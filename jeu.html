<!DOCTYPE html>
<html lang="fr">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <title>Mini-Jeu</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Additional CSS Files -->
  <link rel="stylesheet" href="assets/css/fontawesome.css">
  <link rel="stylesheet" href="assets/css/ css-clement.css">
  <link rel="stylesheet" href="assets/css/owl.css">
  <link rel="stylesheet" href="assets/css/animate.css">
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="style.css" />
  
  <style>
    /* Styles spécifiques au mini-jeu */
    canvas {
      border: 2px solid #fff;
      display: block;
      margin: 20px auto;
      background: #000;
      box-shadow: 0px 0px 15px rgba(0,0,0,0.5);
    }
    
    .game-controls {
      text-align: center;
      margin: 20px 0;
    }
    
    .btn-game {
      margin: 0 10px;
    }
  </style>
</head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav">
                    <!-- ***** Logo Start ***** -->
                    <a href="index.html" class="logo">
                        <img src="assets/logo.png" alt="L'Invention du Jeu Vidéo" style="width: 50px; height: 50px;">
                    </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                      <li><a href="index.html">Accueil</a></li>
                      <li><a href="evolution.html">Évolution</a></li>
                      <li><a href="histoire.html">Histoire</a></li>
                      <li><a href="anecdotes.html">Anecdotes</a></li>
                      <li><a href="jeu.html" class="active">Mini-Jeu</a></li>
                       
                  </ul>   
                    <a class='menu-trigger'>
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <div class="page-heading header-text">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <h1>Mini-Jeux Rétro</h1>
          <p>Revivez l'expérience des premiers jeux vidéo</p>
        </div>
      </div>
    </div>
  </div>

  <div class="section trending">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading">
            <h6>Jouez</h6>
            <h2>Pong - Le Jeu Classique</h2>
          </div>
        </div>
        <div class="col-lg-12 text-center">
          <canvas id="pongCanvas" width="800" height="400"></canvas>
          
          <div class="game-controls">
            <button class="btn btn-primary btn-game" id="startBtn">Démarrer</button>
            <button class="btn btn-secondary btn-game" id="resetBtn">Réinitialiser</button>
          </div>
          
          <div class="mt-4 mb-4">
            <h3>Instructions</h3>
            <p>Utilisez les touches <kbd>W</kbd> et <kbd>S</kbd> pour déplacer la raquette de gauche.</p>
            <p>Utilisez les touches <kbd>↑</kbd> et <kbd>↓</kbd> pour déplacer la raquette de droite.</p>
            <p>Le premier joueur à atteindre 10 points gagne!</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="section categories">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <div class="section-heading">
            <h6>Histoire</h6>
            <h2>L'origine des mini-jeux</h2>
          </div>
        </div>
        <div class="col-lg-12">
          <p>
            Le jeu Pong a été créé en 1972 par Atari et est devenu l'un des premiers jeux vidéo à connaître un succès commercial. 
            Inspiré par le jeu Tennis for Two de 1958, Pong simule un jeu de tennis de table où les joueurs contrôlent des raquettes 
            pour frapper une balle d'avant en arrière.
          </p>
          <p>
            Pong était si populaire à sa sortie que les bornes d'arcade se retrouvaient parfois en panne à cause de l'excès de pièces 
            insérées par les joueurs enthousiastes. Son succès a marqué le début de l'industrie du jeu vidéo moderne et a inspiré de 
            nombreuses variations et adaptations au fil des décennies.
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="section cta">
    <div class="container">
      <div class="row">
        <div class="col-lg-5">
          <div class="shop">
            <div class="row">
              <div class="col-lg-12">
                <div class="section-heading">
                  <h6>Anecdotes</h6>
                  <h2>Découvrez des <em>anecdotes</em> sur les jeux vidéo</h2>
                </div>
                <p>Des histoires fascinantes sur les jeux vidéo et leur développement tout au long de l'histoire.</p>
                <div class="main-button">
                  <a href="anecdotes.html">Voir les anecdotes</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5 offset-lg-2 align-self-end">
          <div class="subscribe">
            <div class="row">
              <div class="col-lg-12">
                <div class="section-heading">
                  <h6>HISTOIRE</h6>
                  <h2>Explorez l'<em>histoire</em> fascinante des jeux vidéo</h2>
                </div>
                <div class="main-button">
                  <a href="histoire.html">Voir l'histoire</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <div class="col-lg-12">
        <p>© 2023 L'Invention du Jeu Vidéo - Tous droits réservés</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/js/isotope.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/counter.js"></script>
  <script src="assets/js/custom.js"></script>

  <!-- Script du jeu Pong -->
  <script>
    // Attendre que le DOM soit chargé
    document.addEventListener('DOMContentLoaded', function() {
        // Récupération du canvas et du contexte
        const canvas = document.getElementById('pongCanvas');
        const ctx = canvas.getContext('2d');
        
        // Variables du jeu
        const paddleHeight = 80;
        const paddleWidth = 10;
        const ballRadius = 8;
        let ballX = canvas.width / 2;
        let ballY = canvas.height / 2;
        let ballSpeedX = 5;
        let ballSpeedY = 3;
        let leftPaddleY = canvas.height / 2 - paddleHeight / 2;
        let rightPaddleY = canvas.height / 2 - paddleHeight / 2;
        let leftScore = 0;
        let rightScore = 0;
        let gameRunning = false;
        const paddleSpeed = 10;
        
        // Contrôles des touches
        let wPressed = false;
        let sPressed = false;
        let upPressed = false;
        let downPressed = false;
        
        // Ajout des événements clavier
        document.addEventListener('keydown', function(e) {
            if (e.key === 'w' || e.key === 'W') wPressed = true;
            if (e.key === 's' || e.key === 'S') sPressed = true;
            if (e.key === 'ArrowUp') upPressed = true;
            if (e.key === 'ArrowDown') downPressed = true;
        });
        
        document.addEventListener('keyup', function(e) {
            if (e.key === 'w' || e.key === 'W') wPressed = false;
            if (e.key === 's' || e.key === 'S') sPressed = false;
            if (e.key === 'ArrowUp') upPressed = false;
            if (e.key === 'ArrowDown') downPressed = false;
        });
        
        // Fonction de dessin du terrain
        function drawCourt() {
            // Fond noir
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Ligne centrale
            ctx.strokeStyle = '#fff';
            ctx.setLineDash([10, 15]);
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2, 0);
            ctx.lineTo(canvas.width / 2, canvas.height);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Scores
            ctx.font = '40px Arial';
            ctx.fillStyle = '#fff';
            ctx.fillText(leftScore, canvas.width / 4, 50);
            ctx.fillText(rightScore, 3 * canvas.width / 4, 50);
        }
        
        // Fonction de dessin des raquettes
        function drawPaddles() {
            ctx.fillStyle = '#fff';
            
            // Raquette gauche
            ctx.fillRect(0, leftPaddleY, paddleWidth, paddleHeight);
            
            // Raquette droite
            ctx.fillRect(canvas.width - paddleWidth, rightPaddleY, paddleWidth, paddleHeight);
        }
        
        // Fonction de dessin de la balle
        function drawBall() {
            ctx.fillStyle = '#fff';
            ctx.beginPath();
            ctx.arc(ballX, ballY, ballRadius, 0, Math.PI * 2);
            ctx.fill();
        }
        
        // Fonction de mise à jour des positions
        function update() {
            // Mouvements des raquettes
            if (wPressed && leftPaddleY > 0) leftPaddleY -= paddleSpeed;
            if (sPressed && leftPaddleY < canvas.height - paddleHeight) leftPaddleY += paddleSpeed;
            if (upPressed && rightPaddleY > 0) rightPaddleY -= paddleSpeed;
            if (downPressed && rightPaddleY < canvas.height - paddleHeight) rightPaddleY += paddleSpeed;
            
            // Mouvement de la balle
            ballX += ballSpeedX;
            ballY += ballSpeedY;
            
            // Collision avec les bords haut et bas
            if (ballY - ballRadius < 0 || ballY + ballRadius > canvas.height) {
                ballSpeedY = -ballSpeedY;
            }
            
            // Collision avec les raquettes
            // Raquette gauche
            if (ballX - ballRadius < paddleWidth && ballY > leftPaddleY && ballY < leftPaddleY + paddleHeight) {
                ballSpeedX = -ballSpeedX;
                // Ajuster la trajectoire en fonction de l'endroit où la balle touche la raquette
                let deltaY = ballY - (leftPaddleY + paddleHeight/2);
                ballSpeedY = deltaY * 0.2;
            }
            
            // Raquette droite
            if (ballX + ballRadius > canvas.width - paddleWidth && ballY > rightPaddleY && ballY < rightPaddleY + paddleHeight) {
                ballSpeedX = -ballSpeedX;
                // Ajuster la trajectoire en fonction de l'endroit où la balle touche la raquette
                let deltaY = ballY - (rightPaddleY + paddleHeight/2);
                ballSpeedY = deltaY * 0.2;
            }
            
            // Point marqué
            if (ballX < 0) {
                rightScore++;
                resetBall();
                if (rightScore >= 10) {
                    gameRunning = false;
                    alert("Joueur de droite gagne!");
                }
            } else if (ballX > canvas.width) {
                leftScore++;
                resetBall();
                if (leftScore >= 10) {
                    gameRunning = false;
                    alert("Joueur de gauche gagne!");
                }
            }
        }
        
        // Fonction de remise à zéro de la balle
        function resetBall() {
            ballX = canvas.width / 2;
            ballY = canvas.height / 2;
            ballSpeedX = -ballSpeedX;
            ballSpeedY = Math.random() * 6 - 3;
        }
        
        // Fonction de réinitialisation du jeu
        function resetGame() {
            leftScore = 0;
            rightScore = 0;
            leftPaddleY = canvas.height / 2 - paddleHeight / 2;
            rightPaddleY = canvas.height / 2 - paddleHeight / 2;
            resetBall();
            // Dessiner le terrain initial
            drawCourt();
            drawPaddles();
            drawBall();
        }
        
        // Boucle de jeu
        function gameLoop() {
            if (gameRunning) {
                update();
                drawCourt();
                drawPaddles();
                drawBall();
                requestAnimationFrame(gameLoop);
            }
        }
        
        // Gestionnaire pour le bouton de démarrage
        document.getElementById('startBtn').addEventListener('click', function() {
            if (!gameRunning) {
                gameRunning = true;
                gameLoop();
            }
        });
        
        // Gestionnaire pour le bouton de réinitialisation
        document.getElementById('resetBtn').addEventListener('click', function() {
            gameRunning = false;
            resetGame();
        });
        
        // Initialiser le jeu au chargement
        resetGame();
    });
  </script>

</body>
</html>